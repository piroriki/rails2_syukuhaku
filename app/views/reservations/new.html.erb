<head>

 <%= render "devise/shared/partial-header" %>
 <div class="notifications">
  <% if flash.now[:notice] %>
   <div class="notice"><%= flash.now[:notice] %></div>
  <% end %>
 </div>

<!-- bootstrapで必要なCSSを以下に記載　-->
 <style>
 
  body{
   font-family: verdana, arial, helvetica, sans-serif;
   font-size: 13px;
   line-height: 18px;
  }

  .new-reservation{
   padding: 30px 0;
   margin-bottom: 100px;
  } 

  .container{
   max-width: 540px;
   width:100%
   margin-right: auto;
   margin-left: auto;
  }

  .row{
   display: flex;
   flex-wrap: wrap;
   margin-right: -15px;
   margin-left: -15px;
  }

  .offset-3{
   margin-left: 25%;
  }

  .col-6{
   flex: 0 0 50%;
   max-width: 50%;
  }

  .new-reservation-form{
   padding: 20px;
   border: 1px solid gray;
   width: 500px;
  }

  .new-reserve-title{
   border-bottom: 1px solid gray;
   margin-bottom: 15px;
   padding-bottom: 15px;
   color: black;
   font-size: 25px;
  }

  .new-reservation-detail{
   padding: 15px 5px;
  }

  label{
   letter-spacing: 2px;
   font-size: 14px;
  }

  .mb-4{
   margin-bottom: 20px;
  }

  .new-reservation-content{
   border-bottom: 1px solid gray;
   margin-bottom: 15px;
   padding-bottom: 15px;
  }
  
  .reservation-message{
   font-size: 14px;
   color: black;
  }
　
  .form-control{
   width: 100%;
   height: 20px;
   margin-bottom: 20px;
   padding-bottom: 20px;
  }

 </style>
</head>


<body>
 <div class="new-reservation container">
  <div class="row">
   <div class="col-6 offset-3">
    <div class="new-reservation-form">
    <%= form_with model:@reservation, url:new_room_reservation_path(@room), local:true do |r|%> 
     <p class="new-reserve-title">予約内容確認</p>
     <tr>
      <h4>¥<%= @room.price %>/日</h4>
     </tr>
     <div class="new-reservation-detail">
 
      <div class="new-reservation-content">
       <tr>
        <th>開始日：</th>
       </tr>
       <tr>
        <td class="mb-4"><%= @reservation.started_day.to_s(:reservetime_jp) %></td>
       </tr>
      </div>
 
      <div class="new-reservation-content">
       <tr>
        <th>終了日：</th>
       </tr>
       <tr>
        <td class="mb-4"><%= @reservation.finished_day.to_s(:reservetime_jp) %></td>
       </tr>
      </div>
 
      <div class="new-reservation-content">
       <tr>
        <th>使用日数：</th>
       </tr>
       <tr>
        <td class="mb-4"><%= @reservation.sum_of_days %>日</td>
       </tr>
      </div>

      <div class="new-reservation-content"> 
       <tr>
        <th>人数：</th>
       </tr>
       <tr>
        <td class="mb-4"><%= @reservation.people.to_i %>人</td>
       </tr>
      </div>
 
      <div class="new-reservation-content">
       <tr>
        <th>合計金額：</th>
       </tr>
       <tr>
        <td class="mb-4"><%= @reservation.price %>円</td>
       </tr>
      </div>

      <p class="reservation-message">上記内容でよろしければ、「予約を確定」を押してください</p>

      <%= r.hidden_field :member_id, value: current_member.id %>
      <%= r.hidden_field :room_id, value:@reservation.room.id %>
      <%= r.hidden_field :people, value:@reservation.people %>
      <%= r.hidden_field :started_day %>
      <%= r.hidden_field :finished_day %>
   
       <tr>
        <td>
         <%= r.submit "予約を確定", class:"btn btn-primary form-control my-3" %>
        </td>
       </tr>
       <tr>      
        <%= button_to "ルーム詳細に戻る",room_path(@room), class:"btn btn-secondary form-control" %>
       </tr>
     </div> 
    </div>
   
   <% end %>
   </div>
  </div>
 </div>

<%= render "devise/shared/partial-footer" %>


<!-- jQuery --> <!--　必要なJS系リンクをbody閉じタグ直前におく　-->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<!-- popper.js -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<!-- bootstrap.js --><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
</body>